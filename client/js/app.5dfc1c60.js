(function(t){function e(e){for(var o,i,n=e[0],c=e[1],l=e[2],d=0,m=[];d<n.length;d++)i=n[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(m.length)m.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],o=!0,n=1;n<s.length;n++){var c=s[n];0!==a[c]&&(o=!1)}o&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var o={},a={app:0},r=[];function i(e){if(o[e])return o[e].exports;var s=o[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=o,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(s,o,function(e){return t[e]}.bind(null,o));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=e,n=n.slice();for(var l=0;l<n.length;l++)e(n[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"1a8a":function(t,e,s){"use strict";var o=s("b5e8"),a=s.n(o);a.a},"56d7":function(t,e,s){"use strict";s.r(e);var o=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("navbar"),s("router-view")],1)},r=[],i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"bug-font navbar navbar-expand-lg navbar-light bg-dark border-bottom border-info"},[s("router-link",{staticClass:"navbar-brand text-light",attrs:{to:{name:"Home"}}},[t._v("Bug-Log")]),t._m(0),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[s("ul",{staticClass:"navbar-nav mr-auto"},[s("li",{staticClass:"nav-item text-light",class:{active:"Home"==t.$route.name}},[s("router-link",{staticClass:"nav-link text-light",attrs:{to:{name:"Home"}}},[t._v("Home")])],1),t.$auth.isAuthenticated?s("li",{staticClass:"nav-item",class:{active:"Profile"==t.$route.name}},[s("router-link",{staticClass:"nav-link text-light",attrs:{to:{name:"Profile"}}},[t._v("Profile")])],1):t._e()]),s("span",{staticClass:"navbar-text"},[t.$auth.isAuthenticated?s("button",{staticClass:"btn btn-info mx-2 align-self-center",on:{click:function(e){t.bugForm=!0}}},[t._v("REPORT")]):t._e(),t.$auth.isAuthenticated?s("button",{staticClass:"btn btn-danger",on:{click:t.logout}},[t._v("logout")]):s("button",{staticClass:"btn btn-info",on:{click:t.login}},[t._v("Login")])])])],1),t.bugForm&&t.$auth.isAuthenticated?s("div",{staticClass:"row border-bottom border-warning bg-info"},[s("div",{staticClass:"col-12 mx-auto my-2"},[s("form",{staticClass:"form-inline mx-auto text-center row",on:{submit:function(e){return e.preventDefault(),t.createBug(e)}}},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"form-group row "},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newBug.title,expression:"newBug.title"}],staticClass:"form-control col-11 col-md-3 my-1 my-md-0 mx-auto",attrs:{type:"text",name:"title",id:"title",placeholder:"Bug Title..","aria-describedby":"helpId"},domProps:{value:t.newBug.title},on:{input:function(e){e.target.composing||t.$set(t.newBug,"title",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newBug.description,expression:"newBug.description"}],staticClass:"form-control col-11 col-md-8 mx-auto",attrs:{type:"text",name:"description",id:"description",placeholder:"Bug Description..","aria-describedby":"helpId"},domProps:{value:t.newBug.description},on:{input:function(e){e.target.composing||t.$set(t.newBug,"description",e.target.value)}}})]),s("button",{staticClass:"mx-3 mt-2 mb-1 btn btn-warning bug-font",attrs:{type:"submit"}},[t._v("submit")]),s("button",{staticClass:"mx-3 mt-2 mb-1 btn btn-danger bug-font",attrs:{type:"button"},on:{click:function(e){t.bugForm=!1}}},[t._v("cancel")])])])])]):t._e()])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler text-light border border-light",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",[s("i",{staticClass:"fas fa-bug pb-1"})])])}],c=s("bc3a"),l=s.n(c),u=s("335d"),d={name:"Navbar",data(){return{bugForm:!1,newBug:{creatorEmail:this.$auth.user.email,closed:!1}}},methods:{async login(){await this.$auth.loginWithPopup(),this.$store.dispatch("setBearer",this.$auth.bearer),console.log("this.$auth.user: "),console.log(this.$auth.user),this.$store.dispatch("getProfile")},async logout(){this.$store.dispatch("resetBearer"),await this.$auth.logout({returnTo:window.location.origin})},createBug(){this.$store.dispatch("createBug",this.newBug),this.newBug={creatorEmail:this.$auth.user.email,closed:!1},this.bugForm=!1}}},m=d,p=(s("1a8a"),s("2877")),b=Object(p["a"])(m,i,n,!1,null,null,null),g=b.exports,v={name:"App",async beforeCreate(){await Object(u["c"])(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"))},components:{Navbar:g}},h=v,f=(s("5c0b"),Object(p["a"])(h,a,r,!1,null,null,null)),_=f.exports,C=s("8c4f"),y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home container"},[t._m(0),t._m(1),s("div",{staticClass:"row my-2"},[s("div",{staticClass:"col-12 card shadow"},[s("div",{staticClass:"row border-bottom border-info"},[s("div",{staticClass:"col-3 border text-center py-1"},[t._v("Title")]),s("div",{staticClass:"col-4 border text-center py-1"},[t._v("Reported By")]),s("div",{staticClass:"col-2 border text-center py-1"},[t._v(" Status "),s("small",{staticClass:"text-warning float-right pointer",on:{click:t.sortStatus}},[t._v("sort")])]),s("div",{staticClass:"col-3 border text-center py-1"},[t._v(" Last Modified "),s("i",{staticClass:"fas fa-sort pointer text-warning float-right",on:{click:t.sortDate}})])]),t._l(t.bugs,(function(e){return s("div",{key:e.id,attrs:{bugProp:e}},[s("router-link",{attrs:{to:{name:"bug",params:{bugId:e.id}}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-3 border text-left py-1"},[t._v(t._s(e.title))]),s("div",{staticClass:"col-4 border text-left py-1",attrs:{id:"bug-creator"}},[t._v(t._s(e.creatorEmail))]),s("div",{staticClass:"text-success col-2 border text-center py-1",attrs:{id:"bug-status"}},[0==e.closed?s("span",{staticClass:"text-success"},[t._v("OPEN")]):s("span",{staticClass:"text-danger"},[t._v("CLOSED")])]),s("div",{staticClass:"col-3 border text-right py-1",attrs:{id:"bug-date"}},[t._v(t._s(new Date(e.updatedAt).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"})))])])])],1)}))],2)])])},w=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-6 mx-auto pt-4 border-bottom border-warning"},[s("h1",{staticClass:"text-center"},[t._v("Bugs")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row my-4"},[s("div",{staticClass:"col-10 mx-auto card shadow text-center py-1"},[s("small",[t._v("You can view Bugs table without logging in. However, to view details about/create/edit a bug report, add a note, or close a bug, you must log in.")])])])}],x={name:"home",mounted(){this.$store.dispatch("getBugs")},computed:{bugs(){return this.$store.state.bugs}},methods:{sortStatus(){this.$store.dispatch("sortStatus")},sortDate(){this.$store.dispatch("sortDate")}}},B=x,$=(s("89f1"),Object(p["a"])(B,y,w,!1,null,null,null)),N=$.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container mt-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-7 text-center rounded bg-light mx-auto mt-3 pt-2 shadow"},[s("p",[t._v("This is your profile page!")]),t._m(0),s("p",[t._v("The email associated with your account is: "),s("b",[t._v(t._s(t.profile.email))])])])]),t._m(1),t._m(2),t._l(t.bugs,(function(e){return s("div",{key:e.id,attrs:{bugProp:e}},[s("router-link",{attrs:{to:{name:"bug",params:{bugId:e.id}}}},[s("div",{staticClass:"row  bg-light "},[s("div",{staticClass:"col-4 border text-left py-1"},[t._v(t._s(e.title))]),s("div",{staticClass:"col-6 border text-left py-1"},[t._v(t._s(e.description))]),s("div",{staticClass:"text-success col-2 border text-center py-1"},[0==e.closed?s("span",{staticClass:"text-success"},[t._v("OPEN")]):s("span",{staticClass:"text-danger"},[t._v("CLOSED")])])])])],1)}))],2)},P=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("Upon expansion of the main platform, the Home page will become crowded, "),s("br"),t._v(" so come here to find the bugs you reported")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 my-4 text-center"},[s("h4",[s("u",[t._v("Your Bugs:")])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-4"},[s("h5",[t._v("Title")])]),s("div",{staticClass:"col-6"},[s("h5",[t._v("Description")])]),s("div",{staticClass:"col-2 text-center"},[s("h5",[t._v("Status")])])])}],I={name:"Profile",computed:{profile(){return this.$store.state.profile},bugs(){return this.$store.state.bugs.filter(t=>t.creatorEmail==this.profile.email)}}},S=I,O=(s("fb1b"),Object(p["a"])(S,E,P,!1,null,"05436792",null)),k=O.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bug container"},[s("div",{staticClass:"row border-bottom border-info mt-2"},[s("div",{staticClass:"col-12"},[s("h1",[s("i",{staticClass:"fas fa-bug"}),t._v(" "),s("u",[t._v(t._s(t.bug.title))])])]),s("div",{staticClass:"col-12 border-bottom border-info"},[s("h6",[t._v("Reported By: "+t._s(t.bug.creatorEmail))])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 my-2 border border-info bg-secondary"},[s("p",[t._v(t._s(t.bug.description)),t.userIsCreator&&!t.bug.closed?s("i",{staticClass:"fas mr-2 mt-2 fa-edit pointer float-right",on:{click:function(e){t.editBugForm=!t.editBugForm}}}):t._e()])]),t.editBugForm?s("div",{staticClass:"col-12 bg-info border border-warning"},[s("form",{staticClass:"form-inline my-2",on:{submit:function(e){return e.preventDefault(),t.editBug(e)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.bug.description,expression:"bug.description"}],staticClass:"form-control",staticStyle:{width:"60vw"},attrs:{type:"text",name:"",id:"",placeholder:"Edit Your Bug Report","aria-describedby":"helpId"},domProps:{value:t.bug.description},on:{input:function(e){e.target.composing||t.$set(t.bug,"description",e.target.value)}}})]),t._m(0)])]):t._e()]),s("div",{staticClass:"row border-bottom border-info"},[s("div",{staticClass:"col-12 border-bottom border-info"},[s("h5",[t._v("Status: "),0==t.bug.closed?s("span",{staticClass:"text-success"},[t._v("OPEN")]):s("span",{staticClass:"text-danger"},[t._v("CLOSED")])]),t.bug.closed?t._e():s("button",{staticClass:"btn btn-info float-right mb-2",on:{click:t.closeBug}},[t._v("CLOSE BUG")])])]),s("div",{staticClass:"row mt-2 "},[t._m(1),s("div",{staticClass:"col-12"},[s("button",{staticClass:"btn btn-info my-2",attrs:{type:"button"},on:{click:function(e){t.noteForm=!0}}},[t._v("ADD NOTE")])])]),t.noteForm?s("div",{staticClass:"row my-2"},[s("form",{staticClass:"form-inline",on:{submit:function(e){return e.preventDefault(),t.createNote(e)}}},[s("div",{staticClass:"form-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newNote.content,expression:"newNote.content"}],staticClass:"form-control",attrs:{type:"text",name:"content",id:"content",placeholder:"New Note...","aria-describedby":"helpId"},domProps:{value:t.newNote.content},on:{input:function(e){e.target.composing||t.$set(t.newNote,"content",e.target.value)}}})]),s("button",{staticClass:"mx-2 btn btn-success",attrs:{type:"submit"}},[t._v("Submit")]),s("button",{staticClass:"mx-2 btn btn-danger",attrs:{type:"button"},on:{click:function(e){t.noteForm=!1}}},[t._v("Cancel")])])]):t._e(),t.notes.length>0?s("div",{staticClass:"row mt-2 border-bottom border-info bg-light"},[t._m(2),t._m(3),t._m(4)]):t._e(),t._l(t.notes,(function(t){return s("NotesComponent",{key:t.id,attrs:{noteProp:t}})}))],2)},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"ml-2 btn btn-warning",attrs:{type:"submit"}},[s("i",{staticClass:"far fa-save mr-1"}),t._v(" Save")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12"},[s("h3",[t._v("Notes:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-4 col-md-3 border text-left py-1",attrs:{id:"bug-title"}},[s("b",[t._v("NAME")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-6 col-md-7 border text-left py-1",attrs:{id:"bug-creator"}},[s("b",[t._v("MESSAGE")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-2 border text-center py-1",attrs:{id:"bug-date"}},[s("b",[t._v("EDIT / DELETE")])])}],T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"NotesComponent row bg-light"},[s("div",{staticClass:"col-4 col-md-3 border text-left py-1",attrs:{id:"note-creator"}},[t._v(t._s(t.noteProp.creatorEmail))]),s("div",{staticClass:"col-6 col-md-7 border text-left py-1",attrs:{id:"note-content"}},[t._v(t._s(t.noteProp.content))]),s("div",{staticClass:"col-2 border text-center py-1",attrs:{id:"note-buttons"}},[t.userIsCreator?s("i",{staticClass:"fas mr-2 fa-edit pointer",on:{click:function(e){t.editNoteForm=!t.editNoteForm}}}):t._e(),t.userIsCreator?s("i",{staticClass:"far fa-trash-alt ml-2 pointer",on:{click:t.deleteNote}}):t._e()]),t.editNoteForm?s("div",{staticClass:"col-12 my-2"},[s("form",{staticClass:"form-inline",on:{submit:function(e){return e.preventDefault(),t.editNote(e)}}},[s("div",{staticClass:"form-group ml-auto"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.noteProp.content,expression:"noteProp.content"}],staticClass:" mr-2 form-control",attrs:{type:"text",name:"content",id:"content",placeholder:"Edit Note Content","aria-describedby":"helpId"},domProps:{value:t.noteProp.content},on:{input:function(e){e.target.composing||t.$set(t.noteProp,"content",e.target.value)}}})]),s("button",{staticClass:"btn btn-outline-success mr-auto",attrs:{type:"submit"}},[t._v("submit")])])]):t._e()])},A=[],j={name:"NotesComponent",props:["noteProp"],data(){return{editNoteForm:!1}},computed:{userIsCreator(){return this.$store.state.profile.email==this.noteProp.creatorEmail}},methods:{editNote(){this.$store.dispatch("editNote",this.noteProp),this.editNoteForm=!1},deleteNote(){let t=confirm("Are You Sure You Want To Delete This Note?");1==t&&this.$store.dispatch("deleteNote",this.noteProp)}}},L=j,Y=Object(p["a"])(L,T,A,!1,null,"71a8437c",null),H=Y.exports,M={name:"Bug",data(){return{newNote:{bugId:this.$route.params.bugId},noteForm:!1,editNoteForm:!1,editBugForm:!1}},computed:{bug(){return this.$store.state.activeBug},notes(){return this.$store.state.notes},userIsCreator(){return this.$store.state.profile.email==this.bug.creatorEmail}},methods:{createNote(){this.$store.dispatch("createNote",this.newNote),this.newNote={bugId:this.$route.params.bugId}},closeBug(){let t=confirm("Are You Sure You Want To Close This Bug?");1==t&&(this.bug.closed=!0,this.$store.dispatch("editBug",this.bug))},editBug(){this.$store.dispatch("editBug",this.bug),this.editBugForm=!1}},mounted(){this.$store.dispatch("getBugById",this.$route.params.bugId),this.$store.dispatch("getNotesByBugId",this.$route.params.bugId)},props:["bugId"],components:{NotesComponent:H}},R=M,U=Object(p["a"])(R,D,F,!1,null,null,null),z=U.exports;o["a"].use(C["a"]);const G=[{path:"/",name:"Home",component:N},{path:"/profile",name:"Profile",component:k,beforeEnter:u["b"]},{path:"/bugs/:bugId",name:"bug",component:z,beforeEnter:u["b"]},{path:"*",redirect:"/"}],W=new C["a"]({routes:G});var J=W,q=s("2f62");s("8c0d");o["a"].use(q["a"]);let K=location.host.includes("localhost")?"http://localhost:3000/":"/",X=l.a.create({baseURL:K+"api",timeout:3e3,withCredentials:!0});var Q=new q["a"].Store({state:{profile:{},bugs:[],activeBug:{},notes:[],activeNotes:{}},mutations:{setProfile(t,e){t.profile=e},setBugs(t,e){t.bugs=e},setActiveBug(t,e){t.activeBug=e},setNotes(t,e){t.notes=e},deleteNote(t,e){t.notes=t.notes.filter(t=>t.id!=e)},sortStatus(t){t.bugs=t.bugs.sort((function(t,e){let s=t.closed,o=e.closed;return s<o?-1:o<s?1:0}))},sortDate(t){t.bugs=t.bugs.sort((function(t,e){var s=new Date(t.updatedAt),o=new Date(e.updatedAt);return s>o?-1:s<o?1:0}))}},actions:{setBearer({},t){X.defaults.headers.authorization=t},resetBearer(){X.defaults.headers.authorization=""},sortStatus({commit:t,dispatch:e}){t("sortStatus")},sortDate({commit:t,dispatch:e}){t("sortDate")},async getProfile({commit:t}){try{let e=await X.get("profile");t("setProfile",e.data)}catch(e){console.error(e)}},async getBugs({commit:t,dispatch:e}){try{let e=await X.get("bugs");t("setBugs",e.data)}catch(s){console.error(s)}},async getBugById({commit:t,dispatch:e},s){try{let e=await X.get("bugs/"+s);t("setActiveBug",e.data)}catch(o){console.error(o)}},async createBug({commit:t,dispatch:e},s){try{console.log(s);let t=await X.post("bugs",s);e("getBugs"),J.push({name:"bug",params:{bugId:t.data._id}})}catch(o){console.error(o)}},async editBug({commit:t,dispatch:e},s){try{await X.put("bugs/"+s.id,s)}catch(o){console.error(o)}},async createNote({commit:t,dispatch:e},s){try{await X.post("notes",s);e("getNotesByBugId",s.bugId)}catch(o){console.error(o)}},async getNotesByBugId({commit:t,dispatch:e},s){try{let e=await X.get("bugs/"+s+"/notes");t("setNotes",e.data)}catch(o){console.error(o)}},async editNote({commit:t,dispatch:e},s){try{await X.put("notes/"+s.id,s);e("getNotesByBugId",s.bugId)}catch(o){console.error(o)}},async deleteNote({commit:t,dispatch:e},s){try{let o=await X.delete("notes/"+s.id);t("deleteNote",o.data),e("getNotesByBugId",s.bugId)}catch(o){console.error(o)}}}});const V="spenserdavies.auth0.com",Z="https://bug-log",tt="wzL42XO4cn0d52ys11wqEASpKUYe9GNl";o["a"].use(u["a"],{domain:V,clientId:tt,audience:Z,onRedirectCallback:t=>{J.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new o["a"]({router:J,store:Q,render:function(t){return t(_)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var o=s("9c0c"),a=s.n(o);a.a},"89f1":function(t,e,s){"use strict";var o=s("fca2"),a=s.n(o);a.a},"9c0c":function(t,e,s){},b5e8:function(t,e,s){},e14d:function(t,e,s){},fb1b:function(t,e,s){"use strict";var o=s("e14d"),a=s.n(o);a.a},fca2:function(t,e,s){}});